worker_processes auto;

events {

}

http {

       
        upstream backendupstream {
                server backend:80;
        }

        server {
		listen 80;
                ssl_certificate     /etc/nginx/ssl/example.crt;
                ssl_certificate_key /etc/nginx/ssl/example.key;


                # Ruta para el frontend React
                location / {
                        root /usr/share/nginx/html;
                        index  index.html index.html;
                        try_files $uri /index.html;
                }
                
                location ~* ^/proveedor {
                        proxy_pass       http://backendupstream;
                        proxy_redirect   off;
                        proxy_set_header Host $host;
                        proxy_set_header X-Real-IP $remote_addr;
                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_set_header X-Forwarded-Host $server_name;
                }


                location ~* ^/catalogoitem {
                        proxy_pass       http://backendupstream;
                        proxy_redirect   off;
                        proxy_set_header Host $host;
                        proxy_set_header X-Real-IP $remote_addr;
                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_set_header X-Forwarded-Host $server_name;
                }


                location ~* ^/ordencompra {
                        proxy_pass       http://backendupstream;
                        proxy_redirect   off;
                        proxy_set_header Host $host;
                        proxy_set_header X-Real-IP $remote_addr;
                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_set_header X-Forwarded-Host $server_name;
                }

		location ~* ^/tipocontratacion {
                        proxy_pass       http://backendupstream;
                        proxy_redirect   off;
                        proxy_set_header Host $host;
                        proxy_set_header X-Real-IP $remote_addr;
                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_set_header X-Forwarded-Host $server_name;
                }

		location ~* ^/jurisdiccion {
                        proxy_pass       http://backendupstream;
                        proxy_redirect   off;
                        proxy_set_header Host $host;
                        proxy_set_header X-Real-IP $remote_addr;
                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                        proxy_set_header X-Forwarded-Host $server_name;
                }

	}

}

